{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'AppLogin',\n  data() {\n    return {\n      name: '',\n      password: ''\n    };\n  },\n  methods: {\n    register() {\n      this.name = '';\n      this.password = '';\n    },\n    login() {\n      let user = {\n        no: this.name,\n        password: this.password\n      };\n      let self = this;\n      this.$axios.post('http://localhost:8090/user/login', user).then(function (response) {\n        let result = response.data;\n        if (result.code === 200) {\n          console.log(\"登录成功！\");\n          console.log(\"返回的数据：\", result.data);\n          console.log(\"总记录数：\", result.total);\n          self.$router.push(\"/index\");\n          this.$store.dispatch('asyncUpdateUser', {\n            name: result.data.name\n          });\n          console.log(this.$store.getters.getUser.name);\n        } else if (result.code === 400) {\n          console.log(\"登录失败！\");\n        }\n      }).catch(function (error) {\n        console.log(\"请求错误：\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","password","methods","register","login","user","no","self","$axios","post","then","response","result","code","console","log","total","$router","push","$store","dispatch","getters","getUser","catch","error"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"background\">\r\n      <div class=\"box\">\r\n        <h2>用户登录</h2>\r\n        <div class=\"input-box\">\r\n            <label>账号</label>\r\n            <input type=\"text\" v-model=\"name\">\r\n        </div>\r\n        <div class=\"input-box\">\r\n            <label>密码</label>\r\n            <input type=\"password\" v-model=\"password\">\r\n        </div>\r\n        <div class=\"btn-box\">\r\n            <a href=\"#\">忘记密码?</a>\r\n            <div>\r\n                <button @click=\"login\">登录</button>\r\n                <button @click=\"register\">重置</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n\r\n  export default {\r\n  name: 'AppLogin',\r\n  data() {\r\n      return {\r\n        name:'',\r\n        password:'',\r\n      }\r\n    },\r\n    methods:{\r\n          register(){\r\n            this.name='';\r\n            this.password='';\r\n          },\r\n          login() {\r\n            let user = {\r\n              no: this.name,\r\n              password: this.password\r\n            };\r\n            let self = this;\r\n            this.$axios.post('http://localhost:8090/user/login', user)\r\n                .then(function (response) {\r\n                  let result = response.data;\r\n                  if (result.code === 200) {\r\n                    console.log(\"登录成功！\");\r\n                    console.log(\"返回的数据：\", result.data);\r\n                    console.log(\"总记录数：\", result.total);\r\n                    self.$router.push(\"/index\");\r\n                    this.$store.dispatch('asyncUpdateUser',{name:result.data.name})\r\n                    console.log(this.$store.getters.getUser.name)\r\n                  } else if (result.code === 400) {\r\n                    console.log(\"登录失败！\");\r\n                  }\r\n                })\r\n                .catch(function (error) {\r\n                  console.log(\"请求错误：\", error);\r\n                });\r\n\r\n          }\r\n      }\r\n  }\r\n  \r\n  </script>\r\n  \r\n  <style scoped>\r\n     @import '../assets/login.css';\r\n  </style>\r\n  \r\n  "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAD,IAAA;MACAE,QAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAA;MACA,KAAAJ,IAAA;MACA,KAAAE,QAAA;IACA;IACAG,MAAA;MACA,IAAAC,IAAA;QACAC,EAAA,OAAAP,IAAA;QACAE,QAAA,OAAAA;MACA;MACA,IAAAM,IAAA;MACA,KAAAC,MAAA,CAAAC,IAAA,qCAAAJ,IAAA,EACAK,IAAA,WAAAC,QAAA;QACA,IAAAC,MAAA,GAAAD,QAAA,CAAAX,IAAA;QACA,IAAAY,MAAA,CAAAC,IAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,WAAAH,MAAA,CAAAZ,IAAA;UACAc,OAAA,CAAAC,GAAA,UAAAH,MAAA,CAAAI,KAAA;UACAT,IAAA,CAAAU,OAAA,CAAAC,IAAA;UACA,KAAAC,MAAA,CAAAC,QAAA;YAAArB,IAAA,EAAAa,MAAA,CAAAZ,IAAA,CAAAD;UAAA;UACAe,OAAA,CAAAC,GAAA,MAAAI,MAAA,CAAAE,OAAA,CAAAC,OAAA,CAAAvB,IAAA;QACA,WAAAa,MAAA,CAAAC,IAAA;UACAC,OAAA,CAAAC,GAAA;QACA;MACA,GACAQ,KAAA,WAAAC,KAAA;QACAV,OAAA,CAAAC,GAAA,UAAAS,KAAA;MACA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}